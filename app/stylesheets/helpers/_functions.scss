/* TYPEOGRAPHY FONT SIZE GENERATOR
======================================================================= */

// Creates a font-size and line-height for a scale, breakpoint componation
@function generate-font-size($type-scale, $breakpoint) {
  $breakpoint-base-font-size: map-get(map-get($typography-base, $breakpoint), base-font-size);
  $breakpoint-type-scale: map-get(map-get($typography-base, $breakpoint), type-scale);
  $breakpoint-vertical-rhythm: map-get(map-get($typography-base, $breakpoint), vertical-rhythm);

  $font-size: $breakpoint-base-font-size;
  @for $i from 1 to index($typography-scale, $type-scale) {
    $font-size: $font-size * $breakpoint-type-scale;
  }
  $base-vertical-rhythm: $breakpoint-base-font-size * $breakpoint-vertical-rhythm;
  $line-height: round($font-size / $base-vertical-rhythm) * $base-vertical-rhythm / $font-size;
  @return join($font-size, $line-height);
}

// Loops through each type in $typography-scale and creates font sizes
@each $type-scale in $typography-scale {
  %#{$type-scale} {
    @each $break, $size in $typography-base {
      $generated-values: generate-font-size($type-scale, $break);
      $font-size: nth($generated-values, 1);
      $line-height: nth($generated-values, 2);

      @if map-get($size, min-width) != "null" {
        @media screen and (min-width: map-get($size, min-width)) {
          font-size: $font-size;
          line-height: $line-height;
        }
      } @else {
        font-size: $font-size;
        line-height: $line-height;
      }
    }
  }
}
